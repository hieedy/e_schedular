{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css
    ">
</head>
<body>
     
     <div class="dashboard-container">

        <!-- Top Bar -->
        <div id="top-bar">
            <div id="first-section">
                <img src="https://logodix.com/logo/1292210.jpg" alt="logo" id="navbar-logo">
            </div>

            <div id="second-section">
                <ul>
                    <li>Home</li>
                    <li id="logOut" > log out </li>
                </ul>
            </div>
                
            
        </div>

        <!-- Second Bar -->
        <div id="second-bar">
            <div id="first-Section-second-bar">
                <h3 class="second-bar-heading">My Scheduler</h3>
                <button class="createBtn"> <a href="{% url 'createlink' %}">Create</a> </button>
            </div>


            <div id="second-bar-second-bar">
                <p id="myMeetings">My Meetings</p>
                <p id="upComingMeetings"> <a href="./upcomingMeeting.html"> Upcoming Meetings</a> </h5>
            </div>
        </div>


        <!-- Tiles -->

        <div id="myMeetingsContainer">
            
            {% for event,detail in data.items %}
            <div class="tile">          
                <div class="top-area-tile">
                    <div class="dropdown">
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                          <a class="dropdown-item" href="#">Action</a>
                          <a class="dropdown-item" href="#">Another action</a>
                          <a class="dropdown-item" href="#">Something else here</a>
                        </div>
                      </div>
                    <p class="agenda"> {{event.event_agenda}} </p>
                    <p class="tile-description"> <b> No. of Days:</b> {{detail.0}}  &nbsp; &nbsp; &nbsp; <b>Total Slots:</b> {{detail.1}} </p>
                    <p class="viewUpcomingMeeting"> View Upcoming Meetings </p>
                 </div>

                 <div class="bottom-area-tile">
                    <input type="text" value="{{ event.unique_link }}" id="myInput" hidden>
                    <p class="copyLinkBtn" onclick="myFunction()">
                        
                         <i class="fa-regular fa-copy" ></i> Copy link </p>
                    <a class="shareBtn" style="text-decoration: None;"> View </a>
                 </div>

            </div>
            
            {% empty %}
            <div class="tile">          
               
                 <p>No Record Found</p>

                 

            </div>

            {% endfor %}

          
            
        </div>

     </div>

     
        
        <script>
function myFunction() {
  /* Get the text field */
  var copyText = document.getElementById("myInput");

  /* Select the text field */
  copyText.select();
  copyText.setSelectionRange(0, 99999); /* For mobile devices */

  /* Copy the text inside the text field */
  navigator.clipboard.writeText(copyText.value);
  
  /* Alert the copied text */
  alert("Copied the text: " + copyText.value);
}
        </script>      

      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js
      "></script>
      <script src="https://kit.fontawesome.com/76555bc776.js" crossorigin="anonymous"></script>
</body>
</html>